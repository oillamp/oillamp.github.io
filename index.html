<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
<!--[if lte IE 9]><meta http-equiv="refresh" content="0;url=/warn.html"><![endif]-->

<title>Hexo - null</title>
<meta name="author" content="John Doe">

<meta name="keywords" content="undefined">

<meta name="description " content="null">

<link rel="icon" href="/images/favicon.png">

<link rel="stylesheet" href="/css/style.css">

  </head>
  <body>
    <aside id="sidebar">
  <nav id="tags">
    <a href="https://oillamp.github.io/" id="avatar" style="background-image:url(/images/favicon.png)"></a>
    <ul id="tags__ul">
      <li id="pl__all" class="tags__li tags-btn active">所有文章</li>
      
      <li id="helloworld" class="tags__li tags-btn">helloworld</li>
      
      <li id="ios" class="tags__li tags-btn">ios</li>
      
      <li id="react_native" class="tags__li tags-btn">react_native</li>
      
      <li id="default" class="tags__li tags-btn">default</li>
      
    </ul>
    <div id="tags__bottom">
      <a href="https://github.com/oillamp" rel="nofollow" id="icon-github" target="_blank" class="tags-btn fontello"></a>
      <a href="http://shang.qq.com/wpa/qunwpa?idkey=6dc2741479cd031cc533fe5080081df44d0f9d95bc5083e8e1244c92f4aae218" rel="nofollow" id="icon-qq" target="_blank" class="tags-btn fontello"></a>
    </div>
  </nav> <!-- end #tags -->
  <div id="posts-list">
    <form action="#" id="search-form" target="_blank">
      <a href="/" id="mobile-avatar" style="background-image:url(/images/favicon.png)"></a>
      <input id="search-input" type="text" placeholder="戳一下不会怀孕" />
    </form>
    <nav id="pl__container">
      
            
                <a class="helloworld pl__all" href="/2016/10/09/hello-world/" title="Hello World">
                  <span class="pl__circle"></span><span class="pl__title">Hello World</span><span class="pl__date">2016-10-09</span>
                </a>
            
      
            
                <a class="ios pl__all" href="/2016/10/11/ios麦克风权限申请/" title="ios麦克风权限申请">
                  <span class="pl__circle"></span><span class="pl__title">ios麦克风权限申请</span><span class="pl__date">2016-10-11</span>
                </a>
            
      
            
                <a class="react_native pl__all" href="/2016/10/10/react-native-android-6-0/" title="react_native_android_6.0">
                  <span class="pl__circle"></span><span class="pl__title">react_native_android_6.0</span><span class="pl__date">2016-10-10</span>
                </a>
            
      
            
                <a class="default pl__all" href="/2016/10/09/test1/" title="test1">
                  <span class="pl__circle"></span><span class="pl__title">test1</span><span class="pl__date">2016-10-09</span>
                </a>
            
      
    </nav>
  </div> <!-- end #posts-list -->
</aside> <!-- end #sidebar -->

    <div id="post">
      <div id="pjax">
        
    <article id="post__content">
      <h1 id="post__title" data-identifier="2016-10-11">ios麦克风权限申请</h1>
      <h1 id="ios麦克风权限申请"><a href="#ios麦克风权限申请" class="headerlink" title="ios麦克风权限申请"></a>ios麦克风权限申请</h1><h1 id="权限申请"><a href="#权限申请" class="headerlink" title="权限申请"></a>权限申请</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">- (BOOL)canRecord</div><div class="line">&#123;</div><div class="line">    __block BOOL bCanRecord = YES;</div><div class="line"></div><div class="line">    if ([[[UIDevice currentDevice] systemVersion] compare:@&quot;7.0&quot;] != NSOrderedAscending)</div><div class="line">    &#123;</div><div class="line">        AVAudioSession *audioSession = [AVAudioSession sharedInstance];</div><div class="line">        if ([audioSession respondsToSelector:@selector(requestRecordPermission:)]) &#123;</div><div class="line">            [audioSession performSelector:@selector(requestRecordPermission:) withObject:^(BOOL granted) &#123;</div><div class="line">                if (granted) &#123;</div><div class="line">                    bCanRecord = YES;</div><div class="line">                &#125; else &#123;</div><div class="line">                    bCanRecord = NO;</div><div class="line">                &#125;</div><div class="line">            &#125;];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    return bCanRecord;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h1 id="ios-10-麦克风访问崩溃"><a href="#ios-10-麦克风访问崩溃" class="headerlink" title="ios 10 麦克风访问崩溃"></a>ios 10 麦克风访问崩溃</h1><p>ios 10上除了申请麦克风权限之外，还需要在plist文件中添加一对kv，否则会出现崩溃。</p>
<p>如: </p>
<p><code>Privacy - Microphone Usage Description</code>: <code>xxx程序将要访问你的麦克风， 是否允许?</code></p>

    </article>
    <button id="js-fullscreen"><span id="icon-arrow" class="fontello"></span></button>
<script src="/js/js-lib.js" type="text/javascript"></script>

  <link rel="stylesheet" type="text/css" href="/css/codeStyle/xcode.css" />
  <script src="/js/highlight.pack.js" type="text/javascript"></script>


  <div id="post__action">
      <a id="icon-heart" class="fontello" href="javascript:donate();"></a>
  </div>
  <script src="/layer/layer.js" type="text/javascript"></script>
  <script src="/layer/extend/layer.ext.js" type="text/javascript"></script>


<!-- 多说评论框 start -->
<div class="ds-thread" data-thread-key="null" data-title="ios麦克风权限申请" data-url="https://oillamp.github.io//2016/10/11/ios麦克风权限申请/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"oillamp"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->




        <p id="copyright">由<a href="http://hexo.io" target="_blank">Hexo</a>创建&nbsp;&nbsp;|&nbsp;&nbsp;主题<a href="https://github.com/tangkunyin/hexo-theme-ttstyle" target="_blank">TTStyle</a>&nbsp;&nbsp;|
<!-- 百度统计 -->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?0ae3105a0bd863f7fdcc382fc18cc8d1";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


      </div>
      <div id="post__toc-trigger">
        <div id="post__toc">
          <span id="post__toc-title">目录</span>
          <ul id="post__toc-ul"></ul>
        </div>
      </div>
    </div>
  </body>
</html>
